import{fk as E,fl as S}from"./index-D0nN1tLV.js";const x={ar:[".",","],bg:[","," "],bs:[",","."],ca:[",","."],cs:[","," "],da:[",","."],de:[",","."],"de-ch":[".","’"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[","," "],fi:[","," "],fr:[","," "],"fr-ch":[","," "],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[","," "],id:[",","."],it:[",","."],"it-ch":[".","’"],ja:[".",","],ko:[".",","],lt:[","," "],lv:[","," "],mk:[",","."],nb:[","," "],nl:[",","."],no:[","," "],pl:[","," "],pt:[",","."],"pt-pt":[","," "],ro:[",","."],ru:[","," "],sk:[","," "],sl:[",","."],sr:[",","."],sv:[","," "],th:[".",","],tr:[",","."],uk:[","," "],vi:[",","."],zh:[".",","]};function w(e=E()){let r=(e=e.toLowerCase())in x;if(!r){const s=e.split("-");s.length>1&&s[0]in x&&(e=s[0],r=!0),r||(e="en")}const[t,l,n="#,##0.###"]=x[e];return{decimal:t,group:l,pattern:n}}function j(e,r){const t=w((r={...r}).locale);r.customs=t;const l=r.pattern||t.pattern;return isNaN(e)||Math.abs(e)===1/0?null:v(e,l,r)}const N=/[#0,]*[#0](?:\.0*#*)?/;function v(e,r,t){const l=(t=t||{}).customs.group,n=t.customs.decimal,s=r.split(";"),a=s[0];if((r=s[e<0?1:0]||"-"+a).includes("%"))e*=100;else if(r.includes("‰"))e*=1e3;else{if(r.includes("¤"))throw new Error("currency notation not supported");if(r.includes("E"))throw new Error("exponential notation not supported")}const f=N,u=a.match(f);if(!u)throw new Error("unable to find a number expression in pattern: "+r);return t.fractional===!1&&(t.places=0),r.replace(f,z(e,u[0],{decimal:n,group:l,places:t.places,round:t.round}))}function z(e,r,t){(t=t||{}).places===!0&&(t.places=0),t.places===1/0&&(t.places=6);const l=r.split("."),n=typeof t.places=="string"&&t.places.indexOf(",");let s=t.places;n?s=t.places.slice(n+1):+s>=0||(s=(l[1]||[]).length),t.round<0||(e=Number(e.toFixed(Number(s))));const a=String(Math.abs(e)).split("."),f=a[1]||"";if(l[1]||t.places){n&&(t.places=t.places.slice(0,Math.max(0,n)));const i=t.places!==void 0?t.places:l[1]&&l[1].lastIndexOf("0")+1;+i>f.length&&(a[1]=f.padEnd(Number(i),"0")),+s<f.length&&(a[1]=f.slice(0,Math.max(0,Number(s))))}else a[1]&&a.pop();const u=l[0].replace(",","");let d=u.indexOf("0");d!==-1&&(d=u.length-d,d>a[0].length&&(a[0]=a[0].padStart(d,"0")),u.includes("#")||(a[0]=a[0].slice(-d)));let p,c,o=l[0].lastIndexOf(",");if(o!==-1){p=l[0].length-o-1;const i=l[0].slice(0,o);o=i.lastIndexOf(","),o!==-1&&(c=i.length-o-1)}const g=[];for(let i=a[0];i;){const m=i.length-p;g.push(m>0?i.slice(Math.max(0,m)):i),i=m>0?i.slice(0,m):"",c&&(p=c,c=void 0)}return a[0]=g.reverse().join(t.group||","),a.join(t.decimal||".")}function y(e){const r=w((e=e||{}).locale),t=e.pattern||r.pattern,l=r.group,n=r.decimal;let s=1;if(t.includes("%"))s/=100;else if(t.includes("‰"))s/=1e3;else if(t.includes("¤"))throw new Error("currency notation not supported");const a=t.split(";");return a.length===1&&a.push("-"+a[0]),{regexp:h(a,u=>(u="(?:"+S(u,".")+")").replace(N,d=>{const p={signed:!1,separator:e.strict?l:[l,""],fractional:e.fractional,decimal:n,exponent:!1},c=d.split(".");let o=e.places;c.length===1&&s!==1&&(c[1]="###"),c.length===1||o===0?p.fractional=!1:(o===void 0&&(o=e.pattern?c[1].lastIndexOf("0")+1:1/0),o&&e.fractional==null&&(p.fractional=!0),!e.places&&+o<c[1].length&&(o+=","+c[1].length),p.places=o);const g=c[0].split(",");return g.length>1&&(p.groupSize=g.pop().length,g.length>1&&(p.groupSize2=g.pop().length)),"("+O(p)+")"}),!0).replaceAll(/[\xa0 ]/g,"[\\s\\xa0]"),group:l,decimal:n,factor:s}}function A(e,r){const t=y(r),l=new RegExp("^"+t.regexp+"$").exec(e);if(!l)return NaN;let n=l[1];if(!l[1]){if(!l[2])return NaN;n=l[2],t.factor*=-1}return n=n.replaceAll(new RegExp("["+t.group+"\\s\\xa0]","g"),"").replace(t.decimal,"."),Number(n)*t.factor}function O(e){"places"in(e=e||{})||(e.places=1/0),typeof e.decimal!="string"&&(e.decimal="."),"fractional"in e&&!String(e.places).startsWith("0")||(e.fractional=[!0,!1]),"exponent"in e||(e.exponent=[!0,!1]),"eSigned"in e||(e.eSigned=[!0,!1]);const r=b(e),t=h(e.fractional,n=>{let s="";return n&&e.places!==0&&(s="\\"+e.decimal,e.places===1/0?s="(?:"+s+"\\d+)?":s+="\\d{"+e.places+"}"),s},!0);let l=r+t;return t&&(l="(?:(?:"+l+")|(?:"+t+"))"),l+h(e.exponent,n=>n?"([eE]"+b({signed:e.eSigned})+")":"")}function b(e){return"signed"in(e=e||{})||(e.signed=[!0,!1]),"separator"in e?"groupSize"in e||(e.groupSize=3):e.separator="",h(e.signed,r=>r?"[-+]":"",!0)+h(e.separator,r=>{if(!r)return"(?:\\d+)";(r=S(r))===" "?r="\\s":r===" "&&(r="\\s\\xa0");const t=e.groupSize,l=e.groupSize2;if(l){const n="(?:0|[1-9]\\d{0,"+(l-1)+"}(?:["+r+"]\\d{"+l+"})*["+r+"]\\d{"+t+"})";return t-l>0?"(?:"+n+"|(?:0|[1-9]\\d{0,"+(t-1)+"}))":n}return"(?:0|[1-9]\\d{0,"+(t-1)+"}(?:["+r+"]\\d{"+t+"})*)"},!0)}const h=(e,r,t)=>{if(!Array.isArray(e))return r(e);const l=[];for(let n=0;n<e.length;n++)l.push(r(e[n]));return k(l.join("|"),!!t)},k=(e,r)=>"("+(r?"?:":"")+e+")";export{y as c,j as l,A as p};
